# 👤 얼굴 인증 시스템

Gradio를 활용한 웹 기반 얼굴 인증 시스템입니다. 사용자의 얼굴을 등록하고 인식하여 인증할 수 있습니다.

## 🚀 주요 기능

- **얼굴 등록**: 새로운 사용자의 얼굴을 등록
- **얼굴 인증**: 등록된 사용자와 얼굴 비교하여 인증
- **웹 인터페이스**: Gradio를 통한 사용자 친화적인 UI
- **실시간 결과**: 등록 및 인증 결과를 즉시 확인

## 📋 설치 방법

### 1. 필요한 패키지 설치

```bash
pip install -r requirements.txt
```

### 2. 간단한 설치

```bash
pip install gradio opencv-python numpy Pillow
```

## 🎯 사용 방법

### 1. 애플리케이션 실행

```bash
python face_auth_gradio.py
```

### 2. 웹 브라우저에서 접속

애플리케이션 실행 후 브라우저에서 `http://localhost:7860`으로 접속하세요.

### 3. 얼굴 등록

1. **얼굴 등록** 탭으로 이동
2. 등록할 사람의 얼굴이 명확히 보이는 이미지 업로드
3. 이름 입력
4. **얼굴 등록** 버튼 클릭

### 4. 얼굴 인증

1. **얼굴 인증** 탭으로 이동
2. 인증할 사람의 얼굴 이미지 업로드
3. **얼굴 인증** 버튼 클릭
4. 인증 결과 확인

## 📁 프로젝트 구조

```
FaceDetection/
├── face_auth_gradio.py    # 메인 애플리케이션
├── requirements.txt       # 필요한 패키지 목록
├── README.md             # 사용 설명서
├── Registered/           # 등록된 얼굴 이미지 저장 폴더
│   ├── person1.jpg
│   └── person2.jpg
├── person1.jpg           # 테스트용 이미지
├── person2.jpg           # 테스트용 이미지
└── person3.jpg           # 테스트용 이미지
```

## 🔧 기술 스택

- **Gradio**: 웹 인터페이스
- **OpenCV**: 얼굴 감지 및 이미지 처리
- **NumPy**: 수치 계산 및 이미지 유사도 비교
- **Pillow**: 이미지 처리

## ⚠️ 주의사항

1. **이미지 품질**: 등록 및 인증 시 명확하고 선명한 얼굴 이미지를 사용하세요.
2. **단일 얼굴**: 한 번에 한 명의 얼굴만 처리됩니다.
3. **조명 조건**: 다양한 조명 조건에서 테스트하여 정확도를 높이세요.
4. **각도**: 정면을 향한 얼굴 이미지가 가장 정확합니다.

## 🎨 커스터마이징

### 유사도 임계값 조정

`face_auth_gradio.py` 파일에서 다음 부분을 수정하여 인증 정확도를 조정할 수 있습니다:

```python
# 임계값 설정 (0.6 이상이면 인증 성공)
threshold = 0.6
```

- `threshold = 0.5`: 더 엄격한 인증
- `threshold = 0.6`: 기본값
- `threshold = 0.7`: 더 관대한 인증

### 얼굴 이미지 크기 조정

얼굴 이미지의 크기를 조정하려면 다음 부분을 수정하세요:

```python
def resize_face(self, face_img, size=(100, 100)):
    """얼굴 이미지 크기 조정"""
    return cv2.resize(face_img, size)
```

## 🐛 문제 해결

### 1. 얼굴을 찾을 수 없다는 오류
- 이미지에 얼굴이 명확히 보이는지 확인
- 이미지 품질 향상
- 다른 각도에서 촬영

### 2. 인증 정확도가 낮음
- 더 많은 각도에서 얼굴 등록
- 다양한 조명 조건에서 등록
- threshold 값 조정

### 3. 패키지 설치 오류
- Python 버전 확인 (3.8 이상 권장)
- pip 업그레이드: `pip install --upgrade pip`
- 가상환경 사용 권장

## 🔍 작동 원리

1. **얼굴 감지**: OpenCV의 Haar Cascade를 사용하여 이미지에서 얼굴 영역을 감지
2. **얼굴 추출**: 감지된 얼굴 영역을 추출하고 일정한 크기로 조정
3. **유사도 계산**: MSE(Mean Squared Error) 기반으로 두 얼굴 이미지 간의 유사도를 계산
4. **인증 판단**: 계산된 유사도가 임계값을 넘으면 인증 성공

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다. 